groups:
- name: k8s-health-checker.rules
  rules:
  - alert: HighCPUUtilization
    expr: k8s_cpu_utilization_percent > 80
    for: 1m
    labels:
      severity: critical
    annotations:
      summary: "High CPU utilization detected ({{ $value | printf \"%.1f\" }})"
      description: "Simulated CPU on host > 80% for more than 1m."

  - alert: PodFailuresDetected
    expr: k8s_pods_failed_total > 0
    for: 1m
    labels:
      severity: warning
    annotations:
      summary: "Pod failures detected ({{ $value }})"
      description: "Number of failed pods > 0 for more than 1m."
